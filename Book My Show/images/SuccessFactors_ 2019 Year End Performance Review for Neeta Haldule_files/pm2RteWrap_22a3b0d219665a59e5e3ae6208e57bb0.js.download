function PM2RteWrap(a,b){this.register();this.init(a,b)}
(function(){extend(PM2RteWrap,BaseControl,{init:function(a,b){var c={spellCheck:!0,legalScan:!0,maxChars:4E3,bubbleUpdateEventOnKeyup:!0,textpane:{fontSize:"12px",fontFamily:"Arial,Verdana,sans-serif"},height:"125",hideWaca:!0,allowAutoGrow:!0,showWacaButton:!1,label:b.label};if(b)for(var d in b)c[d]=b[d];c.eleId&&(this._eleId=c.eleId,this._hasChangedId=this._eleId+"_hasChanged",this.cmt=a,c.name=b.eleId);window.formConfig&&!window.formConfig.enforceRTELimit&&(c.maxChars=void 0);this._rte=new RTEditor(a,
c);this._rte.addEventListener("change",this);this._rte.addEventListener("blur",this);c.wacaEnabled&&(this._btn=new SFCommandButton(MSGS.PERFORMANCE_REVIEW_WRITING_ASSISTANT,!1,!0,!0,{baseButtonWrapperClass:"sfDialogBoxButtonWrapper"}),this._btn.addEventListener("action",this,"handleOpenWritingAssistant"));c.competencySelector&&(this._comptenySelector=c.competencySelector);this.showWacaButton=c.showWacabutton},hasWACA:function(){return!!this._btn},getComptenySelector:function(){return this._comptenySelector},
getWACAButton:function(){return this._btn},update:function(a,b){var c=a.getData(b);this.setValue(c)},handleEvent:function(a){switch(a.type){case "action":switch(a.actionCommand){case "change":this.setHiddenInput(this.getValue()),this.updateModel(this.getValue()),this.dispatch("change")}case "change":this.setHiddenInput(this.getValue());this.updateModel(this.getValue());this.dispatch("change");break;case "blur":this.setHiddenInput(this.getValue()),this.updateModel(this.getValue()),this.handleBlur(),
this.dispatch("blur"),PMUSaveUtils.autoSaveForm()}},handleOpenWritingAssistant:function(a){this.dispatch("openWritingAssistant")},setHiddenInput:function(a){a=this._rte.hasValueChanged();jQuery($(this._hasChangedId)).val(a+"")},renderHtml:function(a){a.push('\x3cdiv tabIndex\x3d-1 id\x3d"',this.id,'" class\x3d"pm2RteWrap" title\x3d"',MSGS.PERFORMANCE_PM2_RTE_TITLE,'"\x3e');this.showWacaButton&&this._btn&&(a.push('\x3cdiv class\x3d"wacaBtnContainer"\x3e'),this._comptenySelector&&this._comptenySelector.renderHtml(a),
this._btn.renderHtml(a),a.push("\x3c/div\x3e"));this._rte.renderHtml(a);this._eleId&&a.push('\x3cinput type\x3d"hidden" value\x3d"false" name\x3d"',this._hasChangedId,'" id\x3d"',this._hasChangedId,'"\x3e');a.push("\x3c/div\x3e")},handleBlur:function(){$(this.id).blur()},setFocus:function(){$(this.id).focus()},getValue:function(){return this._rte.getValue()},getWACAButtonId:function(){return this._btn.getButtonId()},updateBinding:function(){if(void 0!=this.oBinding){var a=this.oBinding.getModel(),
b=this.oBinding.getPath();a.isEqual(this.getValue(),a.getData(b))||this.setValue(a.getData(b));PMUSaveUtils.autoSaveForm()}},updateModel:function(a){if(void 0!=this.oBinding){var b=this.oBinding.getModel(),c=this.oBinding.getPath();b.setData(c,a,!0)}},setValue:function(a){this._rte.setValue(a);this.setHiddenInput(a)},getContentId:function(){return this._rte.id}})})();function PM2PlainTextWrap(a,b){this.register();this.init(a,b)}
(function(){extend(PM2PlainTextWrap,BaseControl,{init:function(a,b){var c={maxLength:4E3,rows:3,cols:100,countByByte:!0,maxHeight:500};if(b)for(var d in b)c[d]=b[d];c.eleId&&(this._eleId=c.eleId,c.name=c.eleId,this._hasChangedId=this._eleId+"_hasChanged",this.cmt=a);window.formConfig&&!window.formConfig.enforcePlainTextLimit&&(c.maxLength=Number.POSITIVE_INFINITY);this._rte=new SFAdvancedTextArea(a,c);this._rte.addEventListener("change",this);this._rte.addEventListener("blur",this);this._rte.addEventListener("keyup",
this)},update:function(a,b){var c=a.getData(b);this.setValue(c)},handleEvent:function(a){switch(a.type){case "action":switch(a.actionCommand){case "change":this.setHiddenInput(this.getValue()),this.updateModel(this.getValue()),this.dispatch("change")}case "change":this.setHiddenInput(this.getValue());this.updateModel(this.getValue());this.dispatch("change");break;case "keyup":this.setHiddenInput(this.getValue());this.updateModel(this.getValue());this.dispatch("change");break;case "blur":this.setHiddenInput(this.getValue()),
this.updateModel(this.getValue()),this.handleBlur(),this.dispatch("blur"),PMUSaveUtils.autoSaveForm()}},setHiddenInput:function(a){a=this._rte.isModified();jQuery($(this._hasChangedId)).val(a+"")},renderHtml:function(a){a.push('\x3cdiv tabIndex\x3d-1 id\x3d"',this.id,'" class\x3d"pm2TextWrap" title\x3d"',MSGS.PERFORMANCE_PM2_RTE_TITLE,'"\x3e');this._rte.renderHtml(a);this._eleId&&a.push('\x3cinput type\x3d"hidden" value\x3d"false" name\x3d"',this._hasChangedId,'" id\x3d"',this._hasChangedId,'"\x3e');
a.push("\x3c/div\x3e")},handleBlur:function(){$(this.id).blur()},setFocus:function(){$(this.id).focus()},getValue:function(){return this._rte.getValue()},updateBinding:function(){if(void 0!=this.oBinding){var a=this.oBinding.getModel(),b=this.oBinding.getPath();a.isEqual(this.getValue(),a.getData(b))||this.setValue(a.getData(b));PMUSaveUtils.autoSaveForm()}},updateModel:function(a){if(void 0!=this.oBinding){var b=this.oBinding.getModel(),c=this.oBinding.getPath();b.setData(c,a,!0)}},setValue:function(a){this._rte.setValue(a);
this.setHiddenInput(a)},getContentId:function(){return this._eleId?this._eleId:this._rte.writeEleId}})})();