try{window.DEF_FLAG_OF_PERFLOG_JS||(window.DEF_FLAG_OF_PERFLOG_JS=!0,window.PerfLog=function(){function y(a){var b=window.pageHeaderJsonData;if(!b)return a;b=b.pageInfo;if(!b)return a;var c=b.moduleId;c&&(a+="\x26moduleId\x3d"+g(c));(c=b.pageId)&&(a+="\x26pageId\x3d"+g(c));(b=b.pageQualifier)&&(a+="\x26pageQualifier\x3d"+g(b));window.PerfLog.pageAction&&(a+="\x26pageAction\x3d"+window.PerfLog.pageAction);return a}function E(a){var b=window.PerfPhase&&PerfPhase.tracking;if(!b)return a;["TRS","TIP",
"TML","TSL"].forEach(function(c){var d=b[c];d&&(a+="\x26"+c+"\x3d"+d)});return a}function F(a){var b=window.performance.navigation,c=window.performance.timing;if(!b||!c)return a;b.redirectCount&&(a+="\x26RED\x3d"+g(b.redirectCount));c.responseStart&&(a+="\x26TTB\x3d"+g(c.responseStart-c.fetchStart));c.domLoading&&(a+="\x26RSR\x3d"+g(c.domLoading-c.navigationStart));c.domInteractive&&(a+="\x26DIA\x3d"+g(c.domInteractive-c.navigationStart));c.domComplete&&(a+="\x26DCP\x3d"+g(c.domComplete-c.navigationStart));
return a}function G(a){var b={};a.substring(a.indexOf("?")+1).split("\x26").forEach(function(a){var c=a.indexOf("\x3d"),f=0>c?a:a.substring(0,c);a=0>c?"":a.substring(c+1,a.length);b[decodeURIComponent(f)]=decodeURIComponent(a)});return JSON.stringify(b)}function z(a){var b=!0;if(-1==a.indexOf("http://")&&-1==a.indexOf("https://"))return b;var c=window.pageHeaderJsonData,d=c&&c.defaultBaseUrl;d&&0!=a.indexOf(d)&&(d=null);d||((d=c&&c.baseUrl)&&0!=a.indexOf(d)&&(d=null),d||(b=!1));return b}function u(a){return-1==
a.indexOf(PerfLog.callURL)&&-1==a.indexOf("/jsup")&&z(a)}function m(){n=z(window.location.href);var a=document.getElementById("PerfLog.eventId");A=a&&a.content;p=!0;e||H();if(0==k)PerfLog.onPageComplete()}function I(){if(!J&&window.performance.timing){if(n){var a=new XMLHttpRequest,b=PerfLog.callURL,b=b+(0>b.indexOf("?")?"?":"\x26"),b=b+("callId\x3d"+K+"-X"),b=y(b),b=E(b),b=b+("\x26ST\x3d"+window.performance.timing.navigationStart),b=b+("\x26ET\x3d"+Date.now()),b=F(b);a.open("GET",b,!0);a.setRequestHeader("Content-Type",
"text/plain; charset\x3dUTF-8");B(a);q&&a.setRequestHeader("X-Event-ID",q+"-X");a.send()}J=!0}}function L(){var a=v;if(!a)return null;var b=(new Date).getTime()-a;return 100>b?(setTimeout(function(){M()},100-b),null):a}function M(){var a=L();if(a&&p&&0==k){for(a=0;a<w.length;++a)try{w[a]()}catch(N){}w=[];if(0==k&&(a=L())&&(v=null,!O&&n)){var a=a-P,b=document.getElementsByTagName("link"),b=b&&b.length||0,c=0,d=document.getElementsByTagName("script");if(d)for(var f in d)d[f].src&&c++;f=new XMLHttpRequest;
d=PerfLog.callURL;d+=0>d.indexOf("?")?"?":"\x26";d+="callId\x3d"+K+"-"+S++;A&&(d+="\x26eventId\x3d"+g(A));d=y(d);d=E(d);if(e){e.ST&&(d+="\x26ST\x3d"+g(e.ST));for(var d=d+("\x26ET\x3d"+Date.now()),r=0;r<h.length;r++)e.hasOwnProperty(h[r])&&(d+="\x26"+h[r]+"\x3d"+g(e[h[r]].toFixed()))}d+="\x26jsNum\x3d"+c+"\x26cssNum\x3d"+b+"\x26renderTime\x3d"+a;a=l.extractContextInfos();d=F(d);f.open("POST",d,!0);f.setRequestHeader("Content-Type","application/x-www-form-urlencoded");B(f);e&&e.EID&&f.setRequestHeader("X-Event-ID",
e.EID);f.send(a);a=d;if(!(0<T++)&&window.JSON)try{var U=G(a),C=document.createElement("meta");C.id="perfLogData0";C.content=U;document.getElementsByTagName("head")[0].appendChild(C)}catch(N){window.console&&console.log(N)}Q=!0;e=null;window.PerfLog.pageAction=null}}}function t(){l.handlePageUnload()}function H(){if(q){for(var a={},b=0;b<h.length;b++)a[h[b]]=0;a.EID=q+"-"+ ++V;a.ST=Date.now();e=a}else a=D(),e=R(a),window.performance.timing&&(e.ST=window.performance.timing.navigationStart),e&&e.EID&&
(q=e.EID)}function D(){var a=document.getElementById("PerfLog.requestStats");return a&&a.content||""}function R(a){var b={};a&&a.split("\x26").forEach(function(a){var c=a.indexOf("\x3d");if(0<c){var f=a.substring(0,c);a=a.substring(c+1,a.length);0<=W.indexOf(f)?b[decodeURIComponent(f)]=decodeURIComponent(a):0<=X.indexOf(f)?b[decodeURIComponent(f)]=parseFloat(decodeURIComponent(a))||0:b[decodeURIComponent(f)]=parseInt(decodeURIComponent(a))||0}});return b}var X=["MEM","NRE","NWR"],h="MEM NRE NWR SCPU SQLC SQLT SVT UCPU CPU FRE FWR".split(" "),
W=["EID","ST"],g=window.encodeURIComponent,k=0,x=0,p=!1,v=null,P=(new Date).getTime(),w=[],K=Math.floor(1E10*Math.random()),S=0,A=null,n=!0,O=!1,Q=!1,e,q,V=0,J=!1,B=function(a){a.setRequestHeader("X-Subaction",Q?1:0)},l={contextInfos:{},uuid:function(a){var b=0,c=Array(36),d=0,f;c[8]=c[13]=c[18]=c[23]="-";for(c[14]="4";36>b;b++)8!=b&&13!=b&&18!=b&&14!=b&&23!=b&&(2>=d&&(d=33554432+16777216*(a||Math.random())|0),d>>=4,f=19==b?d&3|8:d&15,f=10>f?48+f:97+(f-(36>f?10:36)),c[b]=String.fromCharCode(f));return c.join("")},
buildContextRef:function(a){var b=this.uuid();return"0100050001"+a+"29820909-1501-babe-face-000000000003"+b+"HTTP    ;"},initiateContextInfo:function(a){var b=this.buildContextRef(a);this.contextInfos[a]={type:0,start:(new Date).getTime()};return b},finalizeContextInfo:function(a){a=this.contextInfos[a];if(!a)return!1;a.stop=(new Date).getTime();return!0},extractContextInfos:function(a){var b=this.contextInfos,c,d,f,e="";a||(a="OPTR_INFO");for(c in b)if(d=b[c])if(f=d.stop)e&&(e+="\x26"),e+=a+"\x3d"+
g(c),e+="!"+g(d.start),e+="!"+g(f),e+="!"+g(d.type),delete b[c];return e},_getSessionStorage:function(){try{return window.sessionStorage}catch(a){}return null},handlePageUnload:function(){var a=this._getSessionStorage();if(a&&window.Date){var b=window.location;if((b=b&&b.href)&&b.indexOf){var c=b.indexOf("#");0<=c&&(b=b.substring(0,c))}b&&(a.setItem("OPTR_REQUEST_REFERRER",b),a.setItem("OPTR_REQUEST_START",(new Date).getTime()+""))}},handlePageStart:function(){var a,b=(new Date).getTime(),c=this._getSessionStorage(),
d=c&&c.getItem("OPTR_REQUEST_REFERRER"),e=c&&c.getItem("OPTR_REQUEST_START"),g,h;g=document.cookie;var k;h=g.indexOf("OptierRQUUID\x3d");if(0<=h){h+=13;k=g.indexOf(";",h);k<h&&(k=g.length);if(h=g.substring(h,k))h=decodeURIComponent(h),d&&d==document.referrer&&(g=document.getElementById("PerfLog.usePageRequestStartTime"),(g=!g||"false"!=g.content)&&(a=parseInt(e,10))),this.contextInfos[h]={type:1,start:a||0,stop:b};document.cookie="OptierRQUUID\x3d; expires\x3dThu, 01 Jan 1970 00:00:00 GMT; path\x3d/"}d&&
c.removeItem("OPTR_REQUEST_REFERRER");e&&c.removeItem("OPTR_REQUEST_START")}},T=0;XMLHttpRequest.postreadystatechange=function(){if(4==this.readyState&&u(this.url)){!n||this.doesAllowCORS&&this.doesAllowCORS()||l.finalizeContextInfo(this.rquuid);var a=this.getResponseHeader("X-Request-Stats");if(a&&(a=R(a),e&&a&&e.EID==a.EID))for(var b=0;b<h.length;b++)e.hasOwnProperty(h[b])&&a.hasOwnProperty(h[b])&&(e[h[b]]+=a[h[b]]);k--;if(0==k&&p)PerfLog.onPageComplete()}else 4==this.readyState&&x--};XMLHttpRequest.onopen=
function(a,b,c){this.url=b};XMLHttpRequest.onsend=function(a){if(u(this.url)){e||H();if(n&&(!this.doesAllowCORS||!this.doesAllowCORS())){a=l.uuid();var b=l.initiateContextInfo(a);this.rquuid=a;this.setRequestHeader("OPTR_CXT",b);B(this);e&&e.EID&&this.setRequestHeader("X-Event-ID",e.EID)}0==k&&p&&!v&&(P=(new Date).getTime());k++}else x++};XMLHttpRequest.onabort=function(){if(u(this.url)){if(k--,0==k&&p)PerfLog.onPageComplete()}else x--};return{callURL:"/perfLogServlet",addOnloadHook:function(a){a&&
(PerfLog.callURL=a);l.handlePageStart();if(window.SFDOMEvent)SFDOMEvent.addOnDomReadyListener(m),SFDOMEvent.addEventListener(window,"beforeunload",t);else if(window.YAHOO&&YAHOO.util&&YAHOO.util.Event&&YAHOO.util.Event.onDOMReady)YAHOO.util.Event.onDOMReady(m),YAHOO.util.Event.addListener(window,"beforeunload",t);else if(window.jQuery)jQuery(m),jQuery(window).bind("beforeunload",t);else{var b=window.onload;window.onload="function"!=typeof b?m:function(){b&&b();m()};var c=window.onbeforeunload;window.onbeforeunload=
"function"!=typeof c?t:function(){c&&c();t()}}window.PerfPhase&&PerfPhase.attachMainContentLoaded(I);document.addEventListener("readystatechange",function(){"complete"==document.readyState&&I()})},getEventId:function(){var a;D().split("\x26").forEach(function(b){0==b.indexOf("EID\x3d")&&(a=b.slice(4))});return a||""},getPendingAjaxCount:function(){return k+x},pageUnload:function(){O=!0},pageComplete:function(a){w.push(a)},onPageComplete:function(){v=(new Date).getTime();M()},_test:{uuid:l.uuid,parseUrltoJsonString:G,
isBaseDomain:z,isPerfMeasureableUrl:u,getRequestStatsAsQStr:D}}}())}catch(y){};