function SFCarousel(a){this.register();this._init(a)}
(function(){juic.extend(SFCarousel,juic.Component,{_init:function(a){this._content=(this._options=a)&&a.content;this._stepDistance=a&&a.stepDistance||200;this._stepBackDistance=-1*this._stepDistance;this._requiresArrows=!1;SFBodyEventDispatcher.addResizeListener(this,"_onBodyResize")},_setContainer:function(){var a=this._getContentElement();this._getContainerElement().offsetWidth=a.scrollWidth},_getContainerElement:function(){return juic.$("sfCarouselContainer"+this.id)},_getContentElement:function(){return juic.$("sfCarouselContent"+
this.id)},_getStartArrow:function(){return juic.$("sfCarouselArrowStart"+this.id)},_getEndArrow:function(){return juic.$("sfCarouselArrowEnd"+this.id)},_setStartArrowDisabled:function(a){this._getStartArrow().disabled=!!a},_setEndArrowDisabled:function(a){this._getEndArrow().disabled=!!a},_onBodyResize:function(a){this._timeout&&clearTimeout(this._timeout);var b=this;this._timeout=setTimeout(function(){b._resetContentPosition();b._setArrowButtons();b._setEndArrowDisabled(!1);b._setStartArrowDisabled(!0)},
50)},renderHtml:function(a){a.push('\x3cdiv class\x3d"globalPortletBodyBackground sfCarouselOuterContainer"\x3e');a.push('\x3cdiv id\x3d"',this.id,'_buttonStartDescribedBy" class\x3d"hiddenAriaContent"\x3e',MSGS.COMMON_CAROUSEL_START_BUTTON_DESCRIPTION,"\x3c/div\x3e");a.push("\x3cbutton ");a.push('aria-describedby\x3d"',this.id,'_buttonStartDescribedBy" ');a.push('type\x3d"button" onclick\x3d"',this.fireCode("_slideCarousel",this._stepBackDistance,"sfCarouselContent"+this.id),'" id\x3d"sfCarouselArrowStart',
this.id,'" class\x3d"globalSecondaryButton sfCarouselArrow sfCarouselArrowStart hide"\x3e\x3c/button\x3e');a.push('\x3cdiv class\x3d"sfCarouselContainer" id\x3d"sfCarouselContainer',this.id,'"\x3e');a.push('\x3cdiv class\x3d"sfCarouselContent" id\x3d"sfCarouselContent',this.id,'"\x3e');a.push(this._content);a.push("\x3c/div\x3e");a.push("\x3c/div\x3e");a.push('\x3cdiv id\x3d"',this.id,'_buttonEndDescribedBy" class\x3d"hiddenAriaContent"\x3e',MSGS.COMMON_CAROUSEL_END_BUTTON_DESCRIPTION,"\x3c/div\x3e");
a.push("\x3cbutton ");a.push('aria-describedby\x3d"',this.id,'_buttonEndDescribedBy" ');a.push('type\x3d"button" onclick\x3d"',this.fireCode("_slideCarousel",this._stepDistance,"sfCarouselContent"+this.id),'" id\x3d"sfCarouselArrowEnd',this.id,'" class\x3d"globalSecondaryButton sfCarouselArrow sfCarouselArrowEnd hide"\x3e\x3c/button\x3e');a.push("\x3c/div\x3e");a.addAfterRenderListener(this,"_setArrowButtons")},_setArrowButtons:function(){this._resetCarousel();var a=this._getContainerElement(),b=
this._getContentElement().scrollWidth,d=a.offsetWidth,e=this._getStartArrow();this._getEndArrow();this._hideArrowButtons();if(b>d){this._requiresArrows=!0;this._showArrowButtons();var c=e.currentStyle||window.getComputedStyle(e),b=parseInt(c.marginLeft),c=parseInt(c.marginRight);a.style.width=d-2*e.offsetWidth-2*b-2*c+"px"}this.dispatch("carouselButtonsSet",{})},_hideArrowButtons:function(){SFDom.addClass(this._getStartArrow(),"hide");SFDom.addClass(this._getEndArrow(),"hide")},_showArrowButtons:function(){SFDom.removeClass(this._getStartArrow(),
"hide");SFDom.removeClass(this._getEndArrow(),"hide")},_resetCarousel:function(){SFDom.addClass(this._getStartArrow(),"hide");SFDom.addClass(this._getEndArrow(),"hide");this._getContainerElement().style.width="100%"},_resetContentPosition:function(){this._getContentElement().style.left="0"},_slideCarousel:function(a,b,d){var e=Util.isRTL(),c=this._getContentElement(),g=!1;if(c){b=e?c.style.right:c.style.left;b=parseInt(b);isNaN(b)&&(b=0);d=b-a;var f=c.scrollWidth,h=this._getContainerElement().offsetWidth,
f=f-h-Math.abs(b);f<a&&(d=b-f,g=!0);0>a&&b>a&&(d=0);SFAnimUtil.animate(c,e?{right:d}:{left:d},{duration:.3,easing:"easeOut",context:this,complete:function(){var a=this._getEndArrow();this._getStartArrow();a&&(a=e?c.style.right:c.style.left,a=parseInt(a),-1<parseInt(a)?this._setStartArrowDisabled(!0):this._setStartArrowDisabled(!1));this._setEndArrowDisabled(g)}})}},slideCarousel:function(a,b){this._slideCarousel(a,b)},showArrowButtons:function(a){a?this._showArrowButtons():this._hideArrowButtons();
this._onBodyResize()},getRequiresArrows:function(){return this._requiresArrows}})})();