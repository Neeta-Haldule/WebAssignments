function PM2SupportData(a,b,c,d,e){this.register();this._init(a,b,c,d,e)}
extend(PM2SupportData,Component,{_init:function(a,b,c,d,e){this._m=a;this.itemPath=b;a=b.substring(0,b.lastIndexOf("/"));this.sectPath=a.substring(0,a.lastIndexOf("/"));this.ratingConfig=c;this.expanded=!0;this._options=d;this._includeOthersRatings=e;this._isMLT=this._options&&this._options.isMLT?this._options.isMLT:!1;this.rateByBehavior=this._options?!!this._options.rateByBehavior:!1;this._initComps()},reRender:function(){this._initComps();var a=[];this._myRender(a);$(this.id).innerHTML=a.join("")},
toggle:function(){this.expanded=this.expanded?!1:!0;this.reRender()},shrink:function(){this.expanded=!1;this.reRender()},expand:function(){this.expanded=!0;this.reRender()},_initTabs:function(a){this.tabComp=new SFTabBoxLayout({hasTabBackground:!0,lineBorder:!0});a=this.ratingConfig.scaleValues;for(var b=0;b<a.length;b++);this._m.getData(this.itemPath+"/cpmAchievements")&&this.tabComp.addTab(MSGS.PERFORMANCE_CPM_ACHIEVEMENT_TITLE,new CPMAchievements_Tab(this._m,this.itemPath,{}));void 0!=this._m.getData(this.itemPath+
"/learningVOList")&&this.tabComp.addTab(MSGS.DEVELOPMENT_TRANSCRIPT_TRANSCRIPTS_TITLE,new LearningActivities_Tab(this._m,this.itemPath,{}));this._includeOthersRatings&&void 0!=this._m.getData(this.itemPath+"/othersRatingComments")&&this.tabComp.addTab(MSGS.PERFORMANCE_REVIEW_OTHERS_RATING,new OthersRating(this._m,this.itemPath,this.ratingConfig,{rateByBehavior:this.rateByBehavior,isExpanded:!0,isMLT:this._isMLT,ratingOption:this._options.ratingOption,ezRaterEnabled:this._options.ezRaterEnabled,subject:this._options.subject}));
void 0!=this._m.getData(this.itemPath+"/lastReviewRatingCommentVO")&&this.tabComp.addTab(MSGS.PERFORMANCE_REVIEW_LAST_YEAR_RATING_LABEL,new LastReviewRating(this._m,this.itemPath,this.ratingConfig,{}));void 0!=this._m.getData(this.itemPath+"/objectiveDetails")&&this.tabComp.addTab(MSGS.PERFORMANCE_REVIEW_GOAL_DETAIL,new GoalDetails_Tab(this._m,this.itemPath,{}));void 0!=this._m.getData(this.itemPath+"/subDetails")&&this.tabComp.addTab(MSGS.PERFORMANCE_REVIEW_OTHER_DETAIL,new OtherDetails_Tab(this._m,
this.itemPath,{}));0<this.tabComp.getTabCount()&&this.tabComp.changeTab(0)},_initLeft:function(){this.leftComp={};void 0!=this._m.getData(this.itemPath+"/learningVOList")?this.leftComp.component=new LearningActivities_Tab(this._m,this.itemPath,{}):void 0!=this._m.getData(this.itemPath+"/othersRatingComments")?this.leftComp.component=new OthersRating(this._m,this.itemPath,this.ratingConfig,{rateByBehavior:this.rateByBehavior,isExpanded:!1,isMLT:this._isMLT,ratingOption:this._options.ratingOption,ezRaterEnabled:this._options.ezRaterEnabled,
subject:this._options.subject}):void 0!=this._m.getData(this.itemPath+"/objectiveDetails")?this.leftComp.component=new GoalDetails_Tab(this._m,this.itemPath,{}):void 0!=this._m.getData(this.itemPath+"/subDetails")?this.leftComp.component=new OtherDetails_Tab(this._m,this.itemPath,{}):void 0!=this._m.getData(this.itemPath+"/lastReviewRatingCommentVO")&&(this.leftComp.component=new LastReviewRating(this._m,this.itemPath,this.ratingConfig,{}))},_initComps:function(){this.expanded?this._initTabs():this._initLeft()},
_myRender:function(a){this.expanded?0<this.tabComp.getTabCount()&&(a.push('\x3cdiv class\x3d"tabDataBorder"\x3e'),this.tabComp.renderHtml(a),a.push("\x3c/div\x3e")):void 0!=this.leftComp.component&&null!=this.leftComp.component&&(a.push('\x3cdiv class\x3d"tabDataBorder"\x3e'),this.leftComp.component.renderHtml(a),a.push("\x3c/div\x3e"))},renderHtml:function(a){a.push('\x3cdiv class\x3d"pm2SupportData_expand" id\x3d"',this.id,'"\x3e');this._myRender(a);a.push("\x3c/div\x3e")},_getLastYearRatingScaleName:function(){for(var a=
null,b=this._item.supportDataTabs.length,c,d=0;d<b;d++)if(c=this._item.supportDataTabs[d].type,"LASTYEAR_ENTRY"==c){a=this._item.supportDataTabs[d].lastYearRatingComment.ratingScale.scaleName;break}return a},_handleClick:function(a){var b=this.isSelfReview,c=this._getLastYearRatingScaleName();this.dispatch("displayScaleDesc",{triggerElId:"rating_help_"+this.id,isLastYearRating:b,lastYearRatingScaleName:c});PM2DialogUtil.stopEvent(a)},_handleKeyUp:function(a){13==(a.which||a.keyCode)&&this._handleClick(a);
PM2DialogUtil.stopEvent(a)},handleEvent:function(a){switch(a.type){case "displayScaleDesc":a.isLastYearRating&&(a.lastYearRatingScaleName=this._getLastYearRatingScaleName());this.dispatch(a.type,a);break;case "placeQuote":this.dispatch("placeQuote",{data:a.data});break;case "initOtherRating":this.dispatch("initOtherRating",{data:{elementId:this._item.elementId}})}}});function OthersRating(a,b,c,d){this.register();this.init(a,b,c,d)}
OthersRating.prototype=function(){return set(new Component,{init:function(a,b,c,d){this.m=a;this.rateByBehavior=d&&d.rateByBehavior?d.rateByBehavior:!1;this.ezRaterEnabled=d&&d.ezRaterEnabled?d.ezRaterEnabled:!1;this.rootDataPath=b;this.datapath=this.rootDataPath+"/othersRatingComments";this.sectPath="/"+PMPathUtil.getSectionIndex(b);this._hideSubjectManagerRating=this.ezRaterEnabled&&3==d.ratingOption;this._subject=d.subject;this.sectItemData=this.m.getData(this.rootDataPath);this.data=this._getOthersRatingData();
this.ratingConf=c;this._scaleType=this.ratingConf.scaleType;this._showValue=this.ratingConf.showValue;this._isMLT=d&&d.isMLT?d.isMLT:!1;this.isExpanded=d&&d.isExpanded?d.isExpanded:!1;this._isShowRatingHelpIcon=d&&d.isShowRatingHelpIcon?d.isShowRatingHelpIcon:!1},_getOthersRatingData:function(){var a=this.m.getData(this.datapath),b=[];if(a)for(var c=0,d=a.length;c<d;c++){var e=a[c];if(this.rateByBehavior&&!this.ezRaterEnabled)b.push(e);else{var g=e.ratingPerm&&"none"!=e.ratingPerm.name;g&&this._hideSubjectManagerRating&&
(e.userid==this._subject.userId||e.userid==this._subject.managerId)&&(g=!1);var f=!this.sectItemData.suppressItemComments&&e.comment&&e.commentsPerm&&"none"!=e.commentsPerm.name;(g||f)&&b.push(e)}}return b},getRater:function(a,b,c){var d=a.textRating;return new PM2Rating(a.ratingKey,a.rating,d,{readOnly:!0,ratingValues:b,ratingDesc:c,calculatedRatingLabel:d,isMLT:this._isMLT},this._scaleType,this._showValue)},getComment:function(a){var b=MSGS.PERFORMANCE_REVIEW_HAS_NOT_COMMENTED_YET;this.sectItemData.suppressItemComments&&
(b=a="");return a=formConfig.rte?new PMUTextTruncate(a,{displayChars:600,defaultStr:b}):formConfig.unEscapePlainText?new PMUTextTruncate(a,{displayChars:600,defaultStr:b}):new PMUTextTruncate(juic.escapeHTML(a,"\x3cbr/\x3e"),{displayChars:600,defaultStr:b})},_handleClick:function(a){a=a||window.event;this.dispatch("displayScaleDesc",{triggerElId:(a.target||a.srcElement).id,isLastYearRating:!1});PM2DialogUtil.stopEvent(a)},_handleKeyUp:function(a){13==(a.which||a.keyCode)&&this._handleClick(a);PM2DialogUtil.stopEvent(a)},
_renderDocTsfInfo:function(a,b){if(b.docTsf){var c=b.docTsf,c=sfMessageFormat.format(MSGS.PERFORMANCE_PM2_DOCTSF_TEAMOVERVIEW_INDICATOR,c.oldUserFullName,c.subjectFirstName,c.date);a.push('\x3cdiv style\x3d"margin-top: 3px;"\x3e\x3cspan style\x3d"color: blue; font-weight: bold;"\x3e*\x3c/span\x3e \x3cspan\x3e',escapeHTML(c),"\x3c/span\x3e\x3c/div\x3e")}},_handleToggle:function(){var a=juic.$(this.id+"_ratingsContainer");juic.$(this.id+"_ratingsLink").innerHTML="false"==a.getAttribute("aria-hidden")?
MSGS.PERFORMANCE_MORE_FEEDBACK_FROM_OTHERS:MSGS.PERFORMANCE_LESS_FEEDBACK_FROM_OTHERS;Util.toggleHide(a);SFDom.toggleAriaAttribute(a,"aria-hidden")},renderHtml:function(a){if(this.data&&0!=this.data.length){for(var b=0;b<this.data.length;b++){for(var c=this.data[b],d=[],e=[],g=this.ratingConf.scaleValues,f=0;f<g.length;f++)d[f]=g[f].value,e[f]=g[f].desc;1==b&&a.push('\x3cdiv id\x3d"',this.id,'_ratingsContainer" aria-hidden\x3d"true" aria-atomic\x3d"true" style\x3d"display: none;" aria-live\x3d"polite"\x3e');
0<b&&a.push('\x3cdiv class\x3d"othersRatingSeparator"\x3e\x26nbsp;\x3c/div\x3e');f=c.ratingPerm;g=c.commentsPerm;if(this.rateByBehavior&&!this.ezRaterEnabled){if(a.push('\x3cdiv class\x3d"othersRatingContainer"\x3e'),(d=this.m.getData(this.rootDataPath+"/behaviorVOs"))&&0<d.length){e=this.sectPath+"/behaviorRatingScale";f=this.m.getData(e);null==f&&(e=this.sectPath+"/ratingScale",f=this.m.getData(e));e=new PMBehaviors({m:this.m,calculatedRatingVO:c,behaviors:d,ratingScaleValues:f?f.scaleValues:[],
ratingScalePath:e,index:b,curUserId:c.userid},{model:this.isExpanded?"read":"collapsed",showRatingScaleValue:f?f.showValue:!1,ratingScaleType:f?f.scaleType:"STAR",ratingScaleVO:this.ratingConf});if(e.getCalculatedRatingComp()||c.ratingLabel)d=new PMRatingLabel(c.ratingLabel,e.id,{isShowRatingHelpIcon:this._isShowRatingHelpIcon,ratingScale:{m:this.m,path:this.sectPath+"/ratingScale"}}),a.push('\x3cdiv class\x3d"lastYearRatingLabel"\x3e'),d.renderHtml(a),a.push("\x3c/div\x3e");e.renderHtml(a)}}else a.push('\x3cdiv class\x3d"othersRatingContainer"\x3e'),
a.push('\x3cdiv class\x3d"othersPhotoLFloatBlock "\x3e'),a.push('\x3cdiv class\x3d"pm2profile "\x3e'),a.push('\x3cimg src\x3d"',c.userVO.photoUrl,'" title\x3d"',juic.escapeHTML(c.userVO.formattedFullName),'" alt\x3d"',juic.escapeHTML(c.userVO.formattedFullName),'"\x3e'),a.push("\x3c/div\x3e"),a.push("\x3c/div\x3e"),a.push('\x3cdiv class\x3d"othersRatingLFloatBlock selfRatingTab_rating"\x3e'),(!this._hideSubjectManagerRating||c.userid!=this._subject.userId&&c.userid!=this._subject.managerId)&&f&&"none"!=
f.name&&(e=this.getRater(c,d,e),d=new PMRatingLabel(c.ratingLabel,e.id,{isShowRatingHelpIcon:this._isShowRatingHelpIcon,ratingScale:{m:this.m,path:this.sectPath+"/ratingScale"}}),a.push('\x3cdiv class\x3d"lastYearRatingLabel"\x3e'),d.renderHtml(a),a.push("\x3c/div\x3e"),e.renderHtml(a)),a.push("\x3c/div\x3e");a.push("\x3c/div\x3e");!this.sectItemData.suppressItemComments&&c.comment&&g&&"none"!=g.name&&(a.push('\x3cdiv class\x3d"othersRatingComment"\x3e'),this.sectItemData.suppressItemCommentsLabel||
a.push('\x3cdiv class\x3d"roleName"\x3e',escapeHTML(c.commentLabel),"\x3c/div\x3e"),this.getComment(c.comment).renderHtml(a),a.push("\x3c/div\x3e"));b==this.data.length-1&&a.push("\x3c/div\x3e")}1<this.data.length&&(a.push('\x3cdiv class\x3d"pm2RFloatBlock pmMoreLessLink"\x3e\x3ca id\x3d"',this.id,'_ratingsLink" href\x3d"javascript:void(0);" onclick\x3d"',this.fireCode("_handleToggle"),'return false;"'),a.push(' aria-controls\x3d"',this.id,'_ratingsContainer"\x3e',MSGS.PERFORMANCE_MORE_FEEDBACK_FROM_OTHERS,
"\x3c/a\x3e\x3c/div\x3e"))}else a.push('\x3cdiv class\x3d"noOtherRatingData"\x3e'),a.push(MSGS.PERFORMANCE_REVIEW_NO_OTHERS_RATING),a.push("\x3c/div\x3e")}})}();function LastReviewRating(a,b,c,d){this.register();this.init(a,b,c,d)}
LastReviewRating.prototype=function(){return set(new Component,{init:function(a,b,c,d){this.m=a;this.rootDataPath=b;this.datapath=this.rootDataPath+"/lastReviewRatingCommentVO";a=b.substring(0,b.lastIndexOf("/"));this.sectPath=a.substring(0,a.lastIndexOf("/"));this.data=this.m.getData(this.datapath);this.ratingConf=c;this._scaleType=this.ratingConf.scaleType;this._showValue=this.ratingConf.showValue;this._isMLT=d&&d.isMLT?d.isMLT:!1},getRater:function(a,b,c){var d=a.textRating;return new PM2Rating(a.ratingKey,
a.rating,d,{readOnly:!0,ratingValues:b,ratingDesc:c,calculatedRatingLabel:d},this._scaleType,this._showValue)},getComment:function(a){return a=new PMUTextTruncate(a,{displayChars:600,defaultStr:MSGS.PERFORMANCE_REVIEW_HAS_NOT_COMMENTED_YET})},_clickPreviousFormUrl:function(a){window.open(this.data.previousFormUrl,"previousForm","height\x3d580,width\x3d980,scrollbars\x3d1,resizable\x3d1")},_handleClick:function(a){this.dispatch("displayScaleDesc",{triggerElId:"rating_help_"+this.id,isLastYearRating:!0});
PM2DialogUtil.stopEvent(a)},_handleKeyUp:function(a){13==(a.which||a.keyCode)&&this._handleClick(a);PM2DialogUtil.stopEvent(a)},_renderDocTsfInfo:function(a,b){if(b.docTsf){var c=b.docTsf,c=sfMessageFormat.format(MSGS.PERFORMANCE_PM2_DOCTSF_TEAMOVERVIEW_INDICATOR,c.oldUserFullName,c.subjectFirstName,c.date);a.push('\x3cdiv style\x3d"margin-top: 3px;"\x3e\x3cspan style\x3d"color: blue; font-weight: bold;"\x3e*\x3c/span\x3e \x3cspan\x3e',escapeHTML(c),"\x3c/span\x3e\x3c/div\x3e")}},renderHtml:function(a){a.push('\x3cdiv class\x3d"lastYRtaingTab"\x3e');
if(this.ratingConf){a.push('\x3cdiv class\x3d"pm2FloatContainer"\x3e');a.push('\x3cdiv class\x3d"pm2LFloatBlock "\x3e');a.push("\x3c/div\x3e");a.push('\x3cdiv class\x3d"pm2LFloatBlock selfRatingTab_rating"\x3e');for(var b=[],c=[],d=this.ratingConf.scaleValues,e=0;e<d.length;e++)b[e]=d[e].value,c[e]=d[e].desc;b=this.getRater(this.data,b,c);c=new PMRatingLabel(MSGS.PERFORMANCE_REVIEW_LAST_YEAR_RATING_LABEL,b.id,{isShowRatingHelpIcon:!0,ratingScale:{m:this.m,path:this.sectPath+"/ratingScale"}});a.push('\x3cdiv class\x3d"lastYearRatingLabel"\x3e');
c.renderHtml(a);a.push("\x3c/div\x3e");b.renderHtml(a);null!=this.data.previousFormUrl?(a.push('\x3cspan\x3e\x3ca href\x3d"#" onclick\x3d"',this.fireCode("_clickPreviousFormUrl"),' return false;"'),a.push(" title\x3d\x3e",sfMessageFormat.format(MSGS.PERFORMANCE_PREVIOUS_FORM_TITLE),"\x3c/a\x3e\x3c/span\x3e")):(a.push('\x3cdiv\x3e\x3ctable class\x3d"lastCompRatingTable"\x3e\x3ctr\x3e\x3ctd\x3e',juic.escapeHTML(MSGS.PERFORMANCE_LAST_COMPETENCY_RATING_INFO),"\x3c/td\x3e"),a.push('\x3ctd style\x3d"width:20px"\x3e\x3c/td\x3e'),
a.push("\x3ctd\x3e",juic.escapeHTML(this.data.lastRatingDate),"\x3c/td\x3e"),a.push("\x3c/tr\x3e"),a.push("\x3ctr\x3e\x3ctd\x3e",juic.escapeHTML(MSGS.PERFORMANCE_LAST_COMPETENCY_RATING_SOURCE),"\x3c/td\x3e"),a.push('\x3ctd style\x3d"width:20px"\x3e\x3c/td\x3e'),a.push("\x3ctd\x3e",juic.escapeHTML(this.data.lastRatingSource),"\x3c/td\x3e"),a.push("\x3c/tr\x3e\x3c/table\x3e"));a.push("\x3c/div\x3e")}else a.push('\x3cdiv class\x3d"lastYearRatingLabel"\x3e'),a.push(MSGS.PERFORMANCE_REVIEW_HAS_NOT_LAST_YEAR_RATING);
a.push("\x3c/div\x3e");a.push("\x3c/div\x3e")}})}();function GoalDetails_Tab(a,b,c){this.register();this.init(a,b,c)}
GoalDetails_Tab.prototype=function(){return set(new Component,{init:function(a,b,c){this.m=a;this.rootDataPath=b;this.datapath=this.rootDataPath+"/objectiveDetails";a=b.substring(0,b.lastIndexOf("/"));this.sectPath=a.substring(0,a.lastIndexOf("/"));this.data=this.m.getData(this.datapath);this.sectionData=this.m.getData(this.sectPath);this.leftColumnData=[];this.rightColumnData=[];this._prepareElementsData()},renderHtml:function(a){0<this.leftColumnData.length&&(a.push('\x3cdiv class\x3d"leftTabs"\x3e'),
this.renderColumns(a,this.leftColumnData),a.push("\x3c/div\x3e"),a.push('\x3cdiv class\x3d"rightTabs"\x3e'),this.renderColumns(a,this.rightColumnData),a.push("\x3c/div\x3e"),a.push('\x3cdiv class\x3d"clr"\x3e\x3c/div\x3e'))},_prepareElementsData:function(){var a=this.data;if(a&&0<a.length)for(var b=!0,c=0,d=a.length;c<d;c++)b?this.leftColumnData.push(a[c]):this.rightColumnData.push(a[c]),b=!b},renderColumns:function(a,b){a.push('\x3cdiv class\x3d"goalDetailsTab"\x3e');a.push('\x3ctable summary\x3d"',
MSGS.PERFORMANCE_REVIEW_GOAL_DETAIL,'" class\x3d"goalDetailsTable"\x3e');for(var c=0;c<b.length;c++){var d=b[c],e=new PMRowItem(d.label,"");if((d.value||""==d.value)&&""!=d.label)e.setValue("-1972.0"==d.value+""?"unrated":this.getDisplayValue(d)),e.setNl("\x3cbr /\x3e");else if(d.values){var g=[],f="";switch(d.dataType){case "comment":for(f=0;f<d.values.length;f++)g.push(new GoalDetails_Comment(d.values[f]));f="goalDetailComments";break;default:g=d.values}d=new PM2List(g);d.setClass(f);e.setValue(d)}e.renderHtml(a)}a.push("\x3c/table\x3e");
a.push("\x3c/div\x3e")},getDisplayValue:function(a){return a.value}})}();function GoalDetails_Comment(a){this._data=a;this._comment=new PMUTextTruncate(this._data.commentText,{displayChars:300,defaultStr:""});this.register()}
(function(){juic.extend(GoalDetails_Comment,juic.Component,{renderHtml:function(a){a.push("\x3cdiv class\x3d'othersRatingComment'\x3e");a.push("\x3cdiv class\x3d'othersRatingCommentDetails'\x3e",juic.escapeHTML(this._data.userFullName),"\x3c/div\x3e");a.push("\x3cdiv class\x3d'othersRatingCommentDetails'\x3e",juic.escapeHTML(this._data.commentDate),"\x3c/div\x3e");this._comment.renderHtml(a);a.push("\x3c/div\x3e")}})})();function OtherDetails_Tab(a,b,c){this.register();this.init(a,b,c)}
OtherDetails_Tab.prototype=function(){return set(new Component,{init:function(a,b,c){this.m=a;this.rootDataPath=b;this.datapath=this.rootDataPath+"/subDetails/subObjectiveList";a=b.substring(0,b.lastIndexOf("/"));this.sectPath=a.substring(0,a.lastIndexOf("/"));this.data=this.m.getData(this.datapath);this.sectionData=this.m.getData(this.sectPath)},renderHtml:function(a){a.push('\x3cdiv class\x3d"otherDetailsTab"\x3e');for(var b=0;b<this.data.length;b++){a.push('\x3cdiv class\x3d"od_tasks"\x3e');a.push('\x3cdiv class\x3d"od_tasks_title"\x3e',
this.data[b].title?juic.escapeHTML(this.data[b].title):"",":\x3c/div\x3e");if(this.data[b].rows)for(var c=0;c<this.data[b].rows.length;c++)if(this.data[b].rows[c]){var d=new PM2TableItem(this.data[b].rows[c],this.data[b].title,this.data[b].objPropertyOrder);c!=this.data[b].rows.length-1?a.push('\x3cdiv class\x3d"od_tasks_with_border"\x3e'):a.push('\x3cdiv class\x3d"od_tasks_without_border"\x3e');d.renderHtml(a);a.push("\x3c/div\x3e")}a.push("\x3c/div\x3e")}a.push("\x3c/div\x3e")}})}();
function LearningActivities_Tab(a,b,c){this.register();this.init(a,b,c)}LearningActivities_Tab.prototype=function(){return set(new Component,{init:function(a,b,c){this.m=a;this.rootDataPath=b;a=b.substring(0,b.lastIndexOf("/"));this.sectPath=a.substring(0,a.lastIndexOf("/"));this.learningActivities=new PM2LearningActivity(this.m,this.rootDataPath,this.sectPath)},renderHtml:function(a){this.learningActivities.renderHtml(a)}})}();
function CPMAchievements_Tab(a,b,c){this.register();this.init(a,b,c)}
CPMAchievements_Tab.prototype=function(){return set(new Component,{init:function(a,b,c){this.m=a;this.rootDataPath=b;this.datapath=this.rootDataPath+"/cpmAchievements";a=b.substring(0,b.lastIndexOf("/"));this.sectPath=a.substring(0,a.lastIndexOf("/"));this.data=this.m.getData(this.datapath);this.sectionData=this.m.getData(this.sectPath)},renderHtml:function(a){if(this.data.achievements&&0<this.data.achievements.length){var b=this.data.achievements;a.push('\x3cdiv class\x3d"achievementsContainer"\x3e');
for(i=0;i<b.length;i++)(new CPMAchievementsListItem(b[i].date,b[i].title,b[i].achievementFeedbacks)).renderHtml(a);a.push("\x3c/div\x3e")}else a.push('\x3cdiv class\x3d"noAchievements" tabindex\x3d0 aria-label\x3d"',MSGS.PERFORMANCE_CPM_ACHIEVEMENT_NOT_FOUND,'"\x3e',MSGS.PERFORMANCE_CPM_ACHIEVEMENT_NOT_FOUND,"\x3c/div\x3e")}})}();function CPMAchievementsListItem(a,b,c){this.register();this._date=a;this._title=b;this._achievementFeedbacks=c}
CPMAchievementsListItem.prototype=function(){return set(new Component,{renderHtml:function(a){a.push('\x3cdiv class\x3d"achievementsItem"\x3e\x3cspan class\x3d"sapIcon achievementTrophy"\x3e\x26#xe040\x3c/span\x3e');a.push('\x3cdiv class\x3d "achievementsListItem"\x3e');a.push('\x3cdiv class\x3d"achievementTitle" aria-label\x3d"');a.push(juic.escapeHTML(this._title));a.push('"\x3e');a.push(juic.escapeHTML(this._title));a.push("\x3c/div\x3e");a.push('\x3cdiv class\x3d"achievementDate" aria-label\x3d"',
juic.escapeHTML(this._date),'"\x3e',juic.escapeHTML(this._date),"\x3c/div\x3e");if(this._achievementFeedbacks&&this._achievementFeedbacks.feedbacks&&0<this._achievementFeedbacks.feedbacks.length){a.push('\x3cdiv class\x3d"feedbacksLinkOnAchievements"\x3e');a.push('\x3cspan id\x3d"',this.id,'_feedbackExpandIcon" class\x3d"feedback_right"\x3e\x3c/span\x3e');a.push('\x3ca id\x3d"',this.id,"_feedbackLink",'", href\x3d"javascript:void(0);" onclick\x3d"',this.fireCode("_hideFeedbacks"),'return false;" aria-expanded\x3d"false"',
' aria-label\x3d"',MSGS.PERFORMANCE_CPM_ACHIEVEMENT_FEEDBACK,"(",this._achievementFeedbacks.feedbacks.length,")",'"\x3e',MSGS.PERFORMANCE_CPM_ACHIEVEMENT_FEEDBACK," \x26#x200E;(",this._achievementFeedbacks.feedbacks.length,")\x26#x200E;\x3c/a\x3e\x3c/div\x3e");a.push('\x3cdiv  id\x3d"',this.id,'_feedbackContainer" class\x3d"feedbacksOnAchievement" style\x3d"display:none;" aria-hidden\x3d"true"\x3e');for(j=0;j<this._achievementFeedbacks.feedbacks.length;j++)this.feedbackItem=new CPMAchievementsListFeedbackItem(this._achievementFeedbacks.feedbacks[j].userId,
this._achievementFeedbacks.feedbacks[j].fullName,this._achievementFeedbacks.feedbacks[j].feedbackText,this._achievementFeedbacks.feedbacks[j].responseDate),this.feedbackItem.renderHtml(a);a.push("\x3c/div\x3e")}a.push("\x3c/div\x3e\x3c/div\x3e")},_hideFeedbacks:function(){var a=juic.$(this.id+"_feedbackContainer"),b="none"==a.style.display;juic.$(this.id+"_feedbackExpandIcon").className=b?"feedback_down":"feedback_right";juic.$(this.id+"_feedbackLink").setAttribute("aria-expanded",b);Util.toggleHide(a);
a.setAttribute("aria-hidden",!b)}})}();function CPMAchievementsListFeedbackItem(a,b,c,d){this.register();this._userId=a;this._userName=b;this._feedbackDesc=c;this._feedbackDate=d;this.userPhoto=new SFPhoto({photoSrc:{urlType:SFPhoto.URL_TYPE_EDU,photoAction:"show",photoType:"quickCard",userId:this._userId}},{profile:"SQUARE_50"})}
CPMAchievementsListFeedbackItem.prototype=function(){return set(new Component,{renderHtml:function(a){a.push('\x3cdiv class\x3d"feedbackListItem" \x3e');a.push('\x3cdiv class\x3d"feebackUserPhoto" \x3e');this.userPhoto.renderHtml(a);a.push("\x3c/div\x3e");a.push('\x3cdiv class\x3d"userFeedback" \x3e\x3cspan class\x3d"feedbackUserFullname" aria-label\x3d"',juic.escapeHTML(this._userName),'"\x3e',juic.escapeHTML(this._userName),": \x3c/span\x3e");a.push('\x3cspan class\x3d"feedbackDescription" aria-label\x3d"');
a.push(juic.escapeHTML(this._feedbackDesc));a.push('"\x3e');a.push(juic.escapeHTML(this._feedbackDesc));a.push("\x3c/span\x3e");a.push('\x3cdiv class\x3d"feedbackDate" aria-label\x3d"',juic.escapeHTML(this._feedbackDate),'"\x3e',juic.escapeHTML(this._feedbackDate),"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}})}();