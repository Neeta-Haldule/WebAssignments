"undefined"==typeof ValidationMgr&&(window.ValidationMgr=function(){function h(){}h.prototype=function(){function a(){this._options=this._value=""}function c(){}function b(){}function d(){}function e(){}function f(){}function g(){}function h(){}function l(){}function m(){}function n(){}function p(){}function q(){}function r(){}function t(){}function u(){}var k=new SFTextLimiter;a.prototype=function(){return set(new Component,{setValue:function(a){this._value=a;"object"!==typeof this._value&&void 0!==
this._value&&(this._value=this._value.toString())},setOptions:function(a){this._options=a},preValidate:function(){return!!(this._value&&0<this._value.trim().length)}})}();c.prototype=function(){return set(new a,{validate:function(){return this.preValidate()?/^[-|+]?(\d\d*\.\d*$)|(^[-|+]?\d\d*$)|(^[-|+]?\.\d\d*$)/.test(this._value):!0}})}();b.prototype=function(){return set(new a,{validate:function(){return this.preValidate()?/^\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*$/.test(this._value):!0}})}();d.prototype=
function(){return set(new a,{dateformatter:new DateFormat(MSGS.COMMON_DateFormat),ISO8601Dateformatter:new DateFormat("yyyy-MM-dd"),validate:function(){if(this._value.length){var a=this.ISO8601Dateformatter.parse(this._value);return this.dateformatter.format(a).length?!0:!1}return!0}})}();e.prototype=function(){return set(new a,{validate:function(){return this.preValidate()?/^\s*(\+|-)?\d+\s*$/.test(this._value):!0}})}();f.prototype=function(){return set(new a,{validate:function(){return this._value&&
("object"===typeof this._value||0<this._value.trim().length)}})}();g.prototype=function(){return set(new a,{validate:function(){var a=new f;a.setValue(this._value);return a.validate()}})}();h.prototype=function(){return set(new a,{validate:function(){assert(this._options,"Validation Options is undefined!");assert(this._options.regexp,"Validation Options regExp is undefined!");var a=new RegExp(this._options.regexp);"object"==typeof this._value&&(this._value=dump(this._value));return a.test(this._value)}})}();
l.prototype=function(){return set(new a,{validate:function(){return this.preValidate()?/(^[a-z]([a-z_\.]*)@([a-z_\.]*)([.][a-z]{3})$)|(^[a-z]([a-z_\.]*)@([a-z_\.]*)(\.[a-z]{3})(\.[a-z]{2})*$)\/i/.test(this._value):!0}})}();m.prototype=function(){return set(new a,{validate:function(){assert(this._options,"Option minValue is required for the validation.");assert(this._options.minValue,"Option minValue is required for the validation.");return this.preValidate()?this._options.minValue<=this._value:!0}})}();
n.prototype=function(){return set(new a,{validate:function(){assert(this._options,"Option maxValue is required for the validation.");assert(this._options.maxValue,"Option maxValue is required for the validation.");return this.preValidate()?this._options.maxValue>=this._value:!0}})}();p.prototype=function(){return set(new a,{validate:function(){assert(this._options,"Option minlength is required for the validation.");assert(this._options.minlength,"Option minlength is required for the validation.");
return this.preValidate()?this._options.minlength<=k.getByteLength(this._value):!0}})}();q.prototype=function(){return set(new a,{validate:function(){assert(this._options,"Option maxLength and minlength are required for the validation.");assert(this._options.minlength,"Option minlength is required for the validation.");assert(this._options.maxlength,"Option maxLength is required for the validation.");return this.preValidate()?this._options.maxlength>=k.getByteLength(this._value)&&this._options.minlength<=
k.getByteLength(this._value):!0}})}();r.prototype=function(){return set(new a,{validate:function(){assert(void 0!==this._options.minValue,"Option minValue is required for the validation.");assert(void 0!==this._options.maxValue,"Option maxValue is required for the validation.");return this.preValidate()?this._options.maxValue>=this._value&&this._options.minValue<=this._value:!0}})}();t.prototype=function(){return set(new a,{validate:function(){assert(this._options,"Option maxLength is required for the validation.");
assert(this._options.maxlength,"Option maxLength is required for the validation.");return this.preValidate()?this._options.maxlength>=k.getByteLength(this._value):!0}})}();u.prototype=function(){return set(new a,{setValue:function(a){a&&"object"===typeof a&&a.constructor===Array&&(this._value=a)},validate:function(){if(!this._value||0==this._value.length)return!1;for(var a=!1,b=0,c=this._value.length;b<c&&!a;b++)a=!this._value[b]||this._value[b].trim&&!this._value[b].trim()?!1:!0;return a}})}();return set(new Component,
{getValidator:function(a){switch(a){case "required":return new g;case "number":return new c;case "double":return new b;case "long":return new e;case "dateFormat":return new d;case "email":return new l;case "notempty":return new f;case "custom":return new h;case "range":return new r;case "rangelength":return new q;case "maxlength":return new t;case "minlength":return new p;case "maxValue":return new n;case "minValue":return new m;case "valueArray":return new u}}})}();return set(new Component,{init:function(){this._validate=
{};this._validationFactory=new h},bindValidator:function(a,c,b){assert(a.id,"Component not registered!");assert(c,"validationType is undefined!");assert("string"===typeof c,"validationType should be string!");this._validate[a.id]||(this._validate[a.id]={component:a,options:[]});b=b?b:{};b.type=c;for(var d=!1,e=0,f=this._validate[a.id].options,g=f.length;e<g;e++)f[e].type==c&&(f[e]=b,d=!0);d||this._validate[a.id].options.push(b)},validate:function(a){"object"===typeof a&&a.id&&(a=a.id);if(this._validate[a])for(var c=
this._validate[a].component.getValue(),b=0,d=this._validate[a].options,e=d.length;b<e;b++){var f=d[b].message,g=this._validationFactory.getValidator(d[b].type||d[b]);g.setValue(c);g.setOptions(d[b]);if(!g.validate())return{result:!1,message:f,component:this._validate[a].component}}return{result:!0}},validateAll:function(){this.garbageCollect();var a=[],c;for(c in this._validate){var b=this.validate(c);b.result||a.push({component:this._validate[c].component,message:b.message})}return 0<a.length?{result:!1,
message:a}:{result:!0}},addValidationCriteria:function(a,c,b){"object"===typeof a&&a.id&&(a=a.id);assert(this._validate[a],"Component is not bound to Validation Manager!");assert(c,"validationType is undefined!");b.type=c;this._validate[a].options.push(b)},removeValidationCriteria:function(a,c){"object"===typeof a&&a.id&&(a=a.id);assert(this._validate[a],"Component is not bound to Validation Manager!");assert(c,"validationType is undefined!");for(var b=0,d=this._validate[a].options,e=d.length;b>e;b++)if(d[b].type===
c)return d[b].splice(b,1),!0;return!1},unbindValidator:function(a){"object"===typeof a&&a.id&&(a=a.id);delete this._validate[a]},garbageCollect:function(){for(var a in this._validate)this._validate[a].component&&this._validate[a].component.unregister||delete this._validate[a]},cleanup:function(){this._validate={}}})}(),ValidationMgr.init());