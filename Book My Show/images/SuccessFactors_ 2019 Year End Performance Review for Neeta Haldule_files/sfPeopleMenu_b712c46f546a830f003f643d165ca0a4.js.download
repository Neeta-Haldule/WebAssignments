function SFPeopleMenu(d){this._init(d);this.register()}
(function(){juic.Logger.getLogger("SFPeopleManu");var d={userId:"string",type:["string",null],formattedFullName:"string",dao:[juic.EventTarget,null],useGenericGroups:"boolean"},e={userId:void 0,type:"publicprofile",formattedFullName:void 0,dao:void 0,useGenericGroups:!1,uriNavigate:!0};juic.extend(SFPeopleMenu,juic.Component,{_init:function(a){this._config=a=new juic.Config(a,e,d);this._triangleIcon=new SFTriangle({direction:"bottom",inherit:!0})},setSelectedUser:function(a,b){this._config.userId=
a;this._config.formattedFullName=b;this.peopleSelect&&(this.peopleSelect.cleanup(),this.peopleSelect=null);var c=juic.$(this.id+"userFullName");c&&(c.innerHTML=juic.escapeHTML(b))},_onPersonSelected:function(a){this._config.uriNavigate||this.setSelectedUser(a.userId,a.fullName);this.dispatchEvent(a)},_showUserSearchandList:function(){this.peopleSelect||(this.peopleSelect=this._createPeopleSelect({userId:this._config.userId},{uriNavigate:this._config.uriNavigate,type:this._config.type},{dao:this._config.dao,
useGenericGroups:this._config.useGenericGroups}),this.peopleSelect.addEventListener("personSelected",this,"_onPersonSelected"));this.peopleSelect.navigationDropDown.setRefocusId(this.getDomIdForPeopleSearch());this.peopleSelect.showSearchAndUserList(this.getDomIdForPeopleSearch())},_handleKeyDown:function(a){var b=SFDOMEvent.getKeyName(a||window.event);if("SPACEBAR"==b||"RETURN"==b)this._showUserSearchandList(),SFDOMEvent.stopEvent(a)},_createPeopleSelect:function(a,b,c){return new SFPeopleSelect(a,
b,c)},getDomIdForPeopleSearch:function(){return this.id+"_PeopleSearch"},cleanup:function(){this.peopleSelect.cleanup();this._super()},renderHtml:function(a){a.push('\x3cdiv id\x3d"',this.id,'" class\x3d"sfPeopleMenu"\x3e');a.push('\x3ca role\x3d"button" aria-haspopup\x3d"true" class\x3d"globalPlacematNavigationText peoplenav sfPeopleMenuText" ','id\x3d"',this.getDomIdForPeopleSearch(),'" tabindex\x3d"0" onclick\x3d"',this.fireCode("_showUserSearchandList"),'return false;" onkeydown\x3d"',this.fireCode("_handleKeyDown"),
'"\x3e ');a.push('\x3cspan id\x3d"',this.id,'userFullName" class\x3d"navMenuText globalFloatLeft"\x3e',escapeHTML(this._config.formattedFullName),"\x3c/span\x3e");a.push(this._triangleIcon);a.push("\x3c/a\x3e");a.push("\x3c/div\x3e")}})})();