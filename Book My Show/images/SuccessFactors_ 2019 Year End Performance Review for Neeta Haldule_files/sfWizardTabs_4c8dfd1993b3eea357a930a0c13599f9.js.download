SFWizardTabs.STATE_NORMAL="normal";SFWizardTabs.STATE_HOVER="hover";SFWizardTabs.STATE_SELECTED="selected";SFWizardTabs.STATE_DISABLED="disabled";SFWizardTabs.COMMAND_NEXT="next";SFWizardTabs.COMMAND_PREVIOUS="previous";SFWizardTabs.EVENT_ACTION="action";SFWizardTabs.EVENT_FINAL_TAB_SELECTED="finalTabSelected";SFWizardTabs.EVENT_TAB_CLICK="tabClicked";SFWizardTabs.EVENT_TAB_MOUSEOVER="tabMouseOver";SFWizardTabs.EVENT_TAB_MOUSEOUT="tabMouseOut";
function SFWizardTabs(a,b){this.register();juic.assert(a.length,"SFWizardTabs - tab data cannot be empty");this.init(a,b)}
SFWizardTabs.prototype=function(){return set(new Component,{init:function(a,b){this._completedAllSteps=!1;this._wizardTabs={};this._tabConnectors=[];this._tabData=a;b||(b=this._tabData[0].tabId);this._createWizardTabs();this._selectedTab=this._wizardTabs[b].tab;this._setTabMode(b,SFWizardTabs.STATE_SELECTED);this._prevBtn=new SFWizardButton(MSGS.COMMON_Previous,!1,!1);this._prevBtn.setActionCommand(SFWizardTabs.COMMAND_PREVIOUS);this._prevBtn.addEventListener(SFWizardTabs.EVENT_ACTION,this,"dispatchEvent");
this._nextBtn=new SFWizardButton(MSGS.COMMON_Next,!1,!0);this._nextBtn.setActionCommand(SFWizardTabs.COMMAND_NEXT);this._nextBtn.addEventListener(SFWizardTabs.EVENT_ACTION,this,"dispatchEvent")},_wizardRendered:function(a){if(a=juic.$(this.id)){var b=a.offsetWidth,c=0;a=[];var e=[],f=this._prevBtn.getWidth(),c=c+f;a.push(f);var f=0,g;for(g in this._wizardTabs){var d=this._wizardTabs[g].tab.getWidth(),c=c+(d+30);a.push(d);f++}d=this._nextBtn.getWidth();c+=d;a.push(d);if(!(c<b)){for(var d=0,h=a.length;d<
h;d++)e.push(a[d]/c*100);a=[];b-=30*f;d=0;for(h=e.length;d<h;d++)a.push(e[d]/100*b);b=1;this._prevBtn.setWidth(a[0]);for(g in this._wizardTabs)this._wizardTabs[g].tab.setWidth(a[b]),b++;this._nextBtn.setWidth(a[b])}}},enablePreviousButton:function(a){this._prevBtn.setEnabled(a)},enableNextButton:function(a){this._nextBtn.setEnabled(a)},_createWizardTabs:function(){for(var a=0,b=this._tabData.length;a<b;a++){var c=new SFWizardTab(this._tabData[a],SFWizardTabs.STATE_DISABLED,a);this._wizardTabs[this._tabData[a].tabId]=
{tab:c,index:a,active:0==a?!0:!1};c.addEventListener(SFWizardTabs.EVENT_ACTION,this);this._tabConnectors.push(new SFWizardTabConnector(SFWizardTabs.STATE_DISABLED,SFWizardTabs.STATE_DISABLED))}},renderHtml:function(a){a.push("\x3cdiv class\x3d'wizardTabPanel' id\x3d'",this.id,"'\x3e");a.push("\x3cdiv class\x3d'nextButton'\x3e");a.push(this._nextBtn);a.push("\x3c/div\x3e");a.push("\x3cdiv class\x3d'previousButton'\x3e");a.push(this._prevBtn);a.push("\x3c/div\x3e");a.push("\x3cdiv class\x3d'rightborder'\x3e");
for(var b in this._wizardTabs){var c=this._wizardTabs[b];a.push(c.tab);a.push(this._tabConnectors[c.index])}a.push("\x3c/div\x3e");a.push("\x3c/div\x3e");a.addAfterRenderListener(this,"_wizardRendered")},handleEvent:function(a){var b=a.target.getTabId();switch(a.actionCommand){case SFWizardTabs.EVENT_TAB_CLICK:this._wizardTabs[b].active&&this.dispatch(SFWizardTabs.EVENT_ACTION,{actionCommand:a.actionCommand,tabId:b});break;case SFWizardTabs.EVENT_TAB_MOUSEOVER:b!=this._selectedTab.getTabId()&&this._setTabMode(b,
SFWizardTabs.STATE_HOVER);break;case SFWizardTabs.EVENT_TAB_MOUSEOUT:var c=SFWizardTabs.STATE_NORMAL;this._selectedTab===a.target&&(c=SFWizardTabs.STATE_SELECTED);this._setTabMode(b,c)}},getPageLocation:function(){var a=this._selectedTab.getTabId(),a=this._wizardTabs[a].index,b="middle";a+1==this._tabData.length?b="final":0==a&&(b="start");return b},isPreviousTab:function(a){var b=this._selectedTab.getTabId();return this._wizardTabs[b].index>this._wizardTabs[a].index?!0:!1},getTabId:function(a){var b=
this._selectedTab.getTabId(),b=this._wizardTabs[b].index;switch(a){case SFWizardTabs.COMMAND_PREVIOUS:b--;break;case SFWizardTabs.COMMAND_NEXT:b++}return this._tabData[b].tabId},selectTab:function(a){this._selectedTab&&this._selectedTab.getTabId()===a||(this._selectedTab&&this._setTabMode(this._selectedTab.getTabId(),SFWizardTabs.STATE_NORMAL),a=this._wizardTabs[a],a.active=!0,this._selectedTab=a.tab,a.index==this._tabData.length-1&&(this._completedAllSteps=!0),this._setTabMode(this._selectedTab.getTabId(),
SFWizardTabs.STATE_SELECTED),this._completedAllSteps&&this.dispatch(SFWizardTabs.EVENT_ACTION,{actionCommand:SFWizardTabs.EVENT_FINAL_TAB_SELECTED}))},_setTabMode:function(a,b){var c=this._wizardTabs[a],e=c.index,f=this._tabConnectors[e-1],e=this._tabConnectors[e];c.tab.setMode(b);f&&f.setRightTabMode(b);e&&e.setLeftTabMode(b);b===SFWizardTabs.STATE_DISABLED&&(this._completedAllSteps=!1)},enableNextTab:function(){var a=this._selectedTab._index;this._completedAllSteps||(a=this._tabData[a+1].tabId,
this._wizardTabs[a].active=!0,this._setTabMode(a,SFWizardTabs.STATE_NORMAL))},cleanup:function(){for(var a in this._wizardTabs)this._tabConnectors[this._wizardTabs[a]].cleanup(),this._wizardTabs[a].tab.cleanup();this.unregister()}})}();function SFWizardTab(a,b,c){this.register();this.init(a,b,c)}
SFWizardTab.prototype=function(){return set(new Component,{init:function(a,b,c){this._tabId=a.tabId;this._label=a.label;this._mode=b;this._index=c},renderHtml:function(a){a.push("\x3cdiv title\x3d'",this._label,"' id\x3d'",this.id,"' class\x3d'wizardTab ",this._mode," index",this._index,"' onclick\x3d'",this.fireCode("_handleUserActionEvents",SFWizardTabs.EVENT_TAB_CLICK),"' onmouseover\x3d'",this.fireCode("_handleUserActionEvents",SFWizardTabs.EVENT_TAB_MOUSEOVER),"' onmouseout\x3d'",this.fireCode("_handleUserActionEvents",
SFWizardTabs.EVENT_TAB_MOUSEOUT),"'\x3e");a.push(this._label);a.push("\x3c/div\x3e")},setWidth:function(a){var b=juic.$(this.id);b&&(b.style.width=a+"px")},getWidth:function(){var a=juic.$(this.id);if(a)return a.offsetWidth},_handleUserActionEvents:function(a){this._mode!=SFWizardTabs.STATE_DISABLED&&this.dispatch(SFWizardTabs.EVENT_ACTION,{actionCommand:a,tabId:this._tabId})},setMode:function(a){this._mode=a;juic.$(this.id)&&(juic.$(this.id).className="wizardTab "+a+" index"+this._index)},getTabId:function(){return this._tabId},
getMode:function(){return this._mode}})}();function SFWizardTabConnector(a,b){this.register();this.init(a,b)}
SFWizardTabConnector.prototype=function(){return set(new Component,{init:function(a,b){this._leftTabMode=a;this._rightTabMode=b},renderHtml:function(a){a.push("\x3cdiv id\x3d'",this.id,"' class\x3d'tabConnector ",this._leftTabMode+this._rightTabMode,"'\x3e");a.push("\x26nbsp;\x3c/div\x3e")},setLeftTabMode:function(a){this.setMode(a,this._rightTabMode)},setRightTabMode:function(a){this.setMode(this._leftTabMode,a)},setMode:function(a,b){this._leftTabMode=a;this._rightTabMode=b;juic.$(this.id)&&(juic.$(this.id).className=
"tabConnector "+this._leftTabMode+this._rightTabMode)}})}();function SFWizardButton(a,b,c){juic.assert(a,"SFWizardButton: label argument is required.");this.register();this._label=a;this._data=null;this._visible=!0;this.setActive(!!b);this.setEnabled(void 0==c?!0:!!c);this._baseButtonWrapperClass="wizardbutton"}
(function(){juic.extend(SFWizardButton,SFCommandButton,{renderHtml:function(a){a.push('\x3cdiv id\x3d"btnWrapper_'+this.id+'" '+(this._visible?"":" style\x3d'display:none;' ")+' class\x3d"'+this._baseButtonWrapperClass+'"\x3e\x3cbutton '+(this._enabled?"":'disabled\x3d"disabled"')+' id\x3d"dlgButton_'+this.id+'" onclick\x3d"'+this.fireCode("_click")+'" type\x3d"button" title\x3d"'+juic.escapeHTML(this._label)+'"\x3e'+juic.escapeHTML(this._label)+"\x3c/button\x3e\x3c/div\x3e")},setWidth:function(a){var b=
juic.$("dlgButton_"+this.id);b&&(b.style.width=a+"px")},getWidth:function(){var a=juic.$("dlgButton_"+this.id);if(a)return a.offsetWidth}})})();